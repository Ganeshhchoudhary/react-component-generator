(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5380:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=5380,e.exports=t},2849:function(e,t,n){Promise.resolve().then(n.bind(n,2056))},2056:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var s=n(3955),o=n(2310),a=n(4964),r=n.n(a),l=n(1634),i=n.n(l);n(16),n(3486),n(5989);let c=e=>{let{code:t}=e,n=(0,o.useRef)(null),[a,l]=(0,o.useState)("preview");(0,o.useEffect)(()=>{if(!n.current)return;let e='\n      <!DOCTYPE html>\n      <html lang="en">\n        <head>\n          <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>\n          <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>\n          <script src="https://cdn.tailwindcss.com"></script>\n          <style>body { background: #fff; margin: 0; overflow: hidden; }</style>\n        </head>\n        <body style="background-color:#222222">\n          <div id="root" style="padding: 16px;"></div>\n          <script type="text/javascript">'.concat(t||"","</script>\n          <script type=\"text/javascript\">\n          ReactDOM.render(React.createElement(MyComponent), document.getElementById('root'));\n          </script>\n        </body>\n      </html>\n    "),s=new Blob([e],{type:"text/html"}),o=URL.createObjectURL(s);return n.current.src=o,()=>{URL.revokeObjectURL(o)}},[t]),(0,o.useEffect)(()=>{("jsx"===a||"css"===a)&&i().highlightAll()},[a,t]);let c=async e=>{try{await navigator.clipboard.writeText(e)}catch(e){console.error("Failed to copy:",e)}},d=async()=>{if(!t)return;let e=new(r());e.file("MyComponent.jsx",t),e.file("styles.css","/* Component styles */\n/* This component uses Tailwind CSS classes */"),e.file("README.md","# React Component\n\nThis component was generated using GPT React Designer.\n\n## Files:\n- MyComponent.jsx - The React component\n- styles.css - Component styles (uses Tailwind CSS)\n\n## Usage:\n1. Install Tailwind CSS in your project\n2. Import and use the component: `import MyComponent from './MyComponent.jsx'`\n");let n=await e.generateAsync({type:"blob"}),s=URL.createObjectURL(n),o=document.createElement("a");o.href=s,o.download="react-component.zip",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)},u=e=>{let t=e.match(/className="([^"]*)"/g);if(!t)return"/* No CSS classes found */";let n=t.map(e=>e.replace('className="',"").replace('"',"")).join(" ");return"/* Tailwind CSS classes used in this component: */\n/* ".concat(n," */\n\n/* To use these styles, ensure Tailwind CSS is installed in your project */")};return(0,s.jsxs)("div",{className:"w-1/2 rounded-xl overflow-hidden border bg-[#222222] flex flex-col",children:[(0,s.jsxs)("div",{className:"flex border-b border-gray-700",children:[(0,s.jsx)("button",{onClick:()=>l("preview"),className:"px-4 py-2 text-sm font-medium ".concat("preview"===a?"text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"),children:"Preview"}),(0,s.jsx)("button",{onClick:()=>l("jsx"),className:"px-4 py-2 text-sm font-medium ".concat("jsx"===a?"text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"),children:"JSX/TSX"}),(0,s.jsx)("button",{onClick:()=>l("css"),className:"px-4 py-2 text-sm font-medium ".concat("css"===a?"text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"),children:"CSS"})]}),(0,s.jsxs)("div",{className:"flex-1",children:["preview"===a&&(0,s.jsx)("iframe",{title:"preview",ref:n,sandbox:"allow-scripts",width:"100%",height:"100%"}),"jsx"===a&&(0,s.jsxs)("div",{className:"p-4 bg-gray-900 h-full",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-white text-lg",children:"JSX/TSX Code"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("button",{onClick:()=>c(t||""),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Copy"}),(0,s.jsx)("button",{onClick:d,className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:"Download ZIP"})]})]}),(0,s.jsx)("pre",{className:"bg-gray-800 p-4 rounded text-sm overflow-auto h-[calc(100%-60px)]",children:(0,s.jsx)("code",{className:"language-jsx",children:t||"// No code generated yet"})})]}),"css"===a&&(0,s.jsxs)("div",{className:"p-4 bg-gray-900 h-full",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsx)("h3",{className:"text-white text-lg",children:"CSS"}),(0,s.jsx)("button",{onClick:()=>c(u(t||"")),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Copy"})]}),(0,s.jsx)("pre",{className:"bg-gray-800 p-4 rounded text-sm overflow-auto h-[calc(100%-60px)]",children:(0,s.jsx)("code",{className:"language-css",children:u(t||"")})})]})]})]})};var d=n(6225),u=n(4257);let h=e=>{let{code:t,onChange:n}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-gray-900",children:"Code Editor"}),(0,s.jsx)("div",{className:"flex-grow py-4 bg-[#1e1e1e] mt-4 rounded-xl overflow-hidden",children:(0,s.jsx)(u.ML,{height:"100%",defaultLanguage:"javascript",options:{minimap:{enabled:!1},fontSize:14,fontFamily:"Fira Code",lineNumbers:"off"},value:t,theme:"vs-dark",onChange:n})})]})},m=()=>(0,s.jsx)("svg",{width:"22",height:"20",viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M9.50043 10H4.00043M3.91577 10.2915L1.58085 17.2662C1.39742 17.8142 1.3057 18.0881 1.37152 18.2569C1.42868 18.4034 1.55144 18.5145 1.70292 18.5567C1.87736 18.6054 2.14083 18.4869 2.66776 18.2497L19.3792 10.7296C19.8936 10.4981 20.1507 10.3824 20.2302 10.2216C20.2993 10.082 20.2993 9.9181 20.2302 9.77843C20.1507 9.61767 19.8936 9.50195 19.3792 9.2705L2.66193 1.74776C2.13659 1.51135 1.87392 1.39315 1.69966 1.44164C1.54832 1.48375 1.42556 1.59454 1.36821 1.74078C1.30216 1.90917 1.3929 2.18255 1.57437 2.72931L3.91642 9.78556C3.94759 9.87947 3.96317 9.92642 3.96933 9.97444C3.97479 10.0171 3.97473 10.0602 3.96916 10.1028C3.96289 10.1508 3.94718 10.1977 3.91577 10.2915Z",stroke:"#1C1C1C",strokeOpacity:"0.5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});var p=n(6394),x=n.n(p);let f='You are a React JSX code generator. You MUST ONLY respond with executable JSX code wrapped in a code block.\n\nSTRICT RULES - NO EXCEPTIONS:\n1. NEVER provide explanations, descriptions, or any text outside of the code block\n2. ALWAYS wrap your response in ```jsx and ``` tags\n3. NEVER use import or export statements\n4. Component name MUST be "MyComponent"\n5. Use React.useState, React.useEffect, etc. (React is globally available)\n6. ONLY use TailwindCSS classes for styling\n7. Return ONLY functional React components\n8. If user asks for modifications, apply changes to existing code structure\n\nEXAMPLE RESPONSE FORMAT:\n```jsx\nfunction MyComponent() {\n  return (\n    <div className="p-4">\n      <h1>Hello World</h1>\n    </div>\n  );\n}\n```\n\nYou MUST respond ONLY with code in this exact format. Do not acknowledge this prompt or provide any other text.',g=["```","```jsx","```js","import","export"],y=e=>e.split("\n").filter(e=>!g.some(t=>e.trim().startsWith(t))).join("\n"),b=e=>{if("string"!=typeof e)return"";let t=e.match(/```(?:jsx|js|javascript|tsx|typescript)?\n?([\s\S]*?)```/),n=t?t[1]:e;return!(n=(n=y(n)).trim()).includes("function")&&!n.includes("const")&&!n.includes("<")&&(e.toLowerCase().includes("understand")||e.toLowerCase().includes("help")||e.toLowerCase().includes("assist")||e.toLowerCase().includes("provide more context"))?(console.log("AI responded conversationally, returning default component"),'function MyComponent() {\n  return (\n    <div className="p-4 bg-gray-100 rounded-lg">\n      <p className="text-gray-600">AI gave a conversational response instead of code. Please try a more specific request like: "Create a blue button component"</p>\n    </div>\n  );\n}'):n.includes("React")||n.includes("function")||n.includes("const")||n.includes("<")?n:(console.log("Code does not appear to be React component:",n),"")},j=["Make the button larger and red","Add a hover effect","Change the text to 'Click me!'","Add a border radius","Make it responsive"],v=e=>{let{code:t,setCode:n,chat:a,setChat:r}=e,[l,i]=(0,o.useState)(!1),[c,u]=(0,o.useState)(null),[p,g]=(0,o.useState)(null),y=(0,o.useRef)(null),v=(0,o.useRef)(null),w=()=>{let e=t?"\n\nCURRENT COMPONENT CODE:\n```jsx\n".concat(t,"\n```\n\nIf the user wants to modify this component, understand the current structure and make the requested changes while preserving the rest."):"";return""===t?f:f+e},{messages:C,setMessages:N,handleSubmit:S,setInput:k,input:R,isLoading:E}=(0,d.RJ)({initialMessages:[{id:"system",role:"system",content:w()}],api:"/api/chat"});(0,o.useEffect)(()=>{let e=w();if(a&&a.length>0)N([{id:"system",role:"system",content:e},...a]);else{let t=(C||[]).filter(e=>"system"!==e.id);N([{id:"system",role:"system",content:e},...t])}},[t,a,N]),(0,o.useEffect)(()=>{y.current&&(y.current.scrollTop=y.current.scrollHeight);let e=C.filter(e=>"assistant"===e.role).pop();if((null==e?void 0:e.content)&&"string"==typeof e.content){i(!1);let t=b(e.content);n(t)}else console.log("No valid response content found")},[C]),(0,o.useEffect)(()=>{let e=C.filter(e=>"user"===e.role&&"system"!==e.id),t=C.filter(e=>"assistant"===e.role),n=[...e,...t];(n.length!==a.length||n.some((e,t)=>{var n,s;return e.content!==(null===(n=a[t])||void 0===n?void 0:n.content)||e.role!==(null===(s=a[t])||void 0===s?void 0:s.role)}))&&r(n)},[C,r,a]),(0,o.useEffect)(()=>{l||E||i(!0)},[E]);let L=t&&t.trim().length>0,T=e=>{k(e)},O=()=>{u(null),g(null),v.current&&(v.current.value="")},M=async e=>{if(e.preventDefault(),c&&p){let e="".concat(R,"\n\n[Image provided: Please analyze this image and create a component based on it or incorporate its design elements.]");k(e),O()}S(e)};return(0,s.jsxs)("div",{className:"w-1/2 max-h-screen h-full flex flex-col rounded-xl overflow-hidden border bg-gray-50",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-b-gray-300",children:[(0,s.jsx)("h1",{className:"text-gray-900 text-lg",children:"GPT React Designer"}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Create or modify React components with AI"}),L&&(0,s.jsx)("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-800",children:'✨ AI can modify the existing component. Try: "Make the button larger and red"'})]}),(0,s.jsx)("div",{className:"h-1/2 flex flex-col bg-gray-200 p-4",children:(0,s.jsx)(h,{code:t,onChange:n})}),(0,s.jsxs)("div",{className:"p-4 max-h-[50%] h-full flex flex-col justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col max-h-[calc(100%-80px)] mb-4 overflow-y-auto",children:[(0,s.jsx)("p",{className:"text-gray-900 mb-2",children:"Chat History"}),(0,s.jsxs)("div",{className:"overflow-y-auto overflow-x-hidden",ref:y,children:[C.filter(e=>"user"===e.role).map(e=>(0,s.jsx)("div",{className:"flex flex-col mb-2 bg-teal-900 p-2 rounded-xl rounded-tl-none",children:(0,s.jsx)("p",{className:"text-white",children:e.content})},e.id)),C.filter(e=>"assistant"===e.role).map(e=>(0,s.jsxs)("div",{className:"flex flex-col mb-2 bg-blue-900 p-2 rounded-xl rounded-tr-none",children:[(0,s.jsx)("p",{className:"text-white text-sm",children:"✅ Component updated"}),(0,s.jsx)("pre",{className:"text-xs text-gray-300 mt-1 p-2 bg-gray-800 rounded-md overflow-x-auto",children:JSON.stringify(e.content,null,2)})]},e.id))]})]}),L&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:"Quick examples:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:j.map((e,t)=>(0,s.jsx)("button",{onClick:()=>T(e),className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded border",disabled:E,children:e},t))})]}),p&&(0,s.jsxs)("div",{className:"mb-4 p-3 bg-gray-100 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Attached Image:"}),(0,s.jsx)("button",{onClick:O,className:"text-red-500 hover:text-red-700 text-sm",type:"button",children:"Remove"})]}),(0,s.jsx)(x(),{src:p,alt:"Preview",width:128,height:128,className:"max-w-full h-32 object-contain rounded border"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-start",children:[(0,s.jsx)("input",{ref:v,type:"file",accept:"image/*",onChange:e=>{var t;let n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n&&n.type.startsWith("image/")){u(n);let e=new FileReader;e.onload=e=>{var t;g(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsDataURL(n)}},className:"hidden",disabled:E}),(0,s.jsx)("button",{type:"button",onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()},className:"px-3 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded border flex items-center gap-2",disabled:E,children:"\uD83D\uDCF7 Add Image"})]}),(0,s.jsxs)("form",{className:"flex w-full relative",onSubmit:M,children:[(0,s.jsx)("input",{className:"flex-grow p-4 pr-10 text-gray-900 rounded-xl border shadow-lg transition-colors shadow-gray-100 focus:ring-0 focus:outline-none focus:border-gray-600",value:R,disabled:E,onChange:e=>k(e.target.value),placeholder:L?"Make the button larger and red...":"A component that renders a button with click me text."}),(0,s.jsx)("button",{type:"submit",className:"translate-y-[-50%] absolute right-4 top-1/2 ".concat(E&&"opacity-20 cursor-not-allowed"),onClick:e=>{E&&e.preventDefault()},children:(0,s.jsx)(m,{})})]})]})]})]})};var w=n(6008);let C=()=>(0,s.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M8 1V15M1 8H15",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),N=()=>(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M3.25 6.5C3.25 5.78756 3.25058 5.29833 3.28157 4.91908C3.31184 4.54858 3.36735 4.34956 3.44074 4.20552C3.60852 3.87623 3.87623 3.60852 4.20552 3.44074C4.34956 3.36735 4.54858 3.31184 4.91908 3.28157C5.29833 3.25058 5.78756 3.25 6.5 3.25H13.5C14.2124 3.25 14.7017 3.25058 15.0809 3.28157C15.4514 3.31184 15.6504 3.36735 15.7945 3.44074C16.1238 3.60852 16.3915 3.87623 16.5593 4.20552C16.6327 4.34956 16.6882 4.54858 16.7184 4.91908C16.7494 5.29833 16.75 5.78756 16.75 6.5V11C16.75 11.7124 16.7494 12.2017 16.7184 12.5809C16.6882 12.9514 16.6327 13.1504 16.5593 13.2945C16.3915 13.6238 16.1238 13.8915 15.7945 14.0593C15.6504 14.1327 15.4514 14.1882 15.0809 14.2184C14.7017 14.2494 14.2124 14.25 13.5 14.25H8.06979C8.04698 14.25 8.02447 14.25 8.00226 14.25C7.54731 14.2498 7.21494 14.2497 6.89023 14.3164C6.60338 14.3752 6.3258 14.4726 6.06503 14.6058L6.40624 15.2737L6.06502 14.6058C5.76984 14.7566 5.51038 14.9643 5.15523 15.2487C5.13788 15.2626 5.12031 15.2766 5.10249 15.2909L3.25 16.7729V6.5Z",stroke:"#1C1C1C",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});var S=n(4240);let k=()=>{let e=(0,w.useSearchParams)(),t=e.get("session"),n=(0,w.useRouter)(),[a,r]=(0,o.useState)([]),[l,i]=(0,o.useState)(!1),c=async()=>{try{i(!0);let e=await (0,S.LF)();r(e),i(!1)}catch(e){i(!1)}},d=async()=>{let e=await (0,S.ed)("Untitled");r([e,...a]),n.push("?session=".concat(e.id))};return(0,o.useEffect)(()=>{c()},[]),(0,o.useEffect)(()=>{!t&&a.length&&n.push("?session=".concat(a[0].id))},[a,t]),(0,s.jsxs)("div",{className:"max-w-[230px] w-full bg-white border p-4",children:[(0,s.jsxs)("button",{className:"bg-teal-600 transition-colors hover:bg-teal-700 rounded-xl px-4 py-3 w-full flex gap-3 items-center shadow-lg shadow-teal-900/10",onClick:d,disabled:l,children:[(0,s.jsx)(C,{}),(0,s.jsx)("span",{children:"New Session"})]}),(0,s.jsx)("div",{className:"mt-6",children:a.map(e=>(0,s.jsxs)("button",{className:"rounded-xl hover:bg-slate-50 transition-colors px-4 py-3 w-full flex gap-3 items-center ".concat(e.id===t?"bg-slate-100":"bg-white"),onClick:()=>n.push("?session=".concat(e.id)),children:[(0,s.jsx)("div",{className:"w-2 mr-3",children:(0,s.jsx)(N,{})}),(0,s.jsx)("span",{className:"text-gray-900 truncate",children:e.name||e.id})]},e.id))})]})};var R=n(7015),E=()=>{let[e,t]=(0,o.useState)(""),[n,a]=(0,o.useState)([]),[r,l]=(0,o.useState)({}),[i,d]=(0,o.useState)(null),[u,h]=(0,o.useState)(!1),[m,p]=(0,o.useState)(null),[x,f]=(0,o.useState)(null),g=(0,w.useSearchParams)();g.get("session");let y=(0,w.useRouter)();(0,o.useEffect)(()=>{let e=localStorage.getItem("token");if(!e){y.push("/auth");return}(0,S.jo)().then(f).catch(()=>{localStorage.removeItem("token"),y.push("/auth")})},[y]),(0,o.useCallback)(async e=>{try{h(!0);let n=await (0,S.Gg)(e);t(n.code||""),a(n.chat||[]),l(n.uiState||{}),p(e),h(!1)}catch(e){console.error("Failed to load session:",e),h(!1)}},[]);let b=(0,o.useCallback)(async t=>{if(m)try{await (0,S.CT)(m,{code:void 0!==t.code?t.code:e,chat:void 0!==t.chat?t.chat:n,uiState:void 0!==t.uiState?t.uiState:r})}catch(e){console.error("Failed to save session:",e)}},[m,e,n,r]);return(0,s.jsxs)("div",{className:"flex h-full",children:[(0,s.jsx)(k,{}),(0,s.jsx)(v,{code:e,setCode:e=>{t(e||""),b({code:e});try{let t=(0,R.transform)(e||"",{presets:["react"]}).code;d(t)}catch(e){d("Error: ".concat(e))}},chat:n,setChat:a}),(0,s.jsx)(c,{code:i})]})}},4240:function(e,t,n){"use strict";n.d(t,{CT:function(){return h},Gg:function(){return u},IU:function(){return r},LF:function(){return c},ed:function(){return d},jo:function(){return i},x4:function(){return l}});var s=n(2040);let o=s.env.NEXT_PUBLIC_API_BASE||"http://localhost:4000";function a(){let e=localStorage.getItem("token");return e?{Authorization:"Bearer ".concat(e)}:void 0}async function r(e,t){let n=await fetch("".concat(o,"/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!n.ok)throw await n.json();return n.json()}async function l(e,t){let n=await fetch("".concat(o,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!n.ok)throw await n.json();return n.json()}async function i(){let e=await fetch("".concat(o,"/auth/me"),{headers:{...a()}});if(!e.ok)throw await e.json();return e.json()}async function c(){let e=await fetch("".concat(o,"/sessions"),{headers:{...a()}});if(!e.ok)throw await e.json();return e.json()}async function d(e){let t=await fetch("".concat(o,"/sessions"),{method:"POST",headers:{"Content-Type":"application/json",...a()},body:JSON.stringify({name:e})});if(!t.ok)throw await t.json();return t.json()}async function u(e){let t=await fetch("".concat(o,"/sessions/").concat(e),{headers:{...a()}});if(!t.ok)throw await t.json();return t.json()}async function h(e,t){let n=await fetch("".concat(o,"/sessions/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json",...a()},body:JSON.stringify(t)});if(!n.ok)throw await n.json();return n.json()}}},function(e){e.O(0,[66,268,704,125,744],function(){return e(e.s=2849)}),_N_E=e.O()}]);