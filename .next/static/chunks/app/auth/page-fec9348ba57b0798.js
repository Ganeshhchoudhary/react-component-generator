(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{2040:function(t,e,n){"use strict";var r,o;t.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"==typeof(null==(o=n.g.process)?void 0:o.env)?n.g.process:n(6003)},8363:function(t,e,n){Promise.resolve().then(n.bind(n,1159))},1159:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return a}});var r=n(3955),o=n(2310),i=n(6008),s=n(4240);function a(){let[t,e]=(0,o.useState)(!0),[n,a]=(0,o.useState)(""),[c,u]=(0,o.useState)(""),[l,f]=(0,o.useState)(""),[d,h]=(0,o.useState)(!1),p=(0,i.useRouter)(),m=async e=>{e.preventDefault(),f(""),h(!0);try{let e;e=t?await (0,s.x4)(n,c):await (0,s.IU)(n,c),localStorage.setItem("token",e.token),h(!1),p.push("/")}catch(t){h(!1),f((null==t?void 0:t.error)||"Authentication failed")}};return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded shadow-md w-full max-w-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:t?"Login":"Sign Up"}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1 font-medium",children:"Email"}),(0,r.jsx)("input",{type:"email",className:"w-full border px-3 py-2 rounded",value:n,onChange:t=>a(t.target.value),required:!0,disabled:d})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block mb-1 font-medium",children:"Password"}),(0,r.jsx)("input",{type:"password",className:"w-full border px-3 py-2 rounded",value:c,onChange:t=>u(t.target.value),required:!0,disabled:d})]}),l&&(0,r.jsx)("div",{className:"text-red-500 text-sm",children:l}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition disabled:opacity-50",disabled:d,children:d?"Loading...":t?"Login":"Sign Up"})]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)("button",{className:"text-blue-600 hover:underline text-sm",onClick:()=>e(!t),disabled:d,children:t?"Don't have an account? Sign Up":"Already have an account? Login"})})]})})}},4240:function(t,e,n){"use strict";n.d(e,{CT:function(){return d},Gg:function(){return f},IU:function(){return s},LF:function(){return u},ed:function(){return l},jo:function(){return c},x4:function(){return a}});var r=n(2040);let o=r.env.NEXT_PUBLIC_API_BASE||"http://localhost:4000";function i(){let t=localStorage.getItem("token");return t?{Authorization:"Bearer ".concat(t)}:void 0}async function s(t,e){let n=await fetch("".concat(o,"/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})});if(!n.ok)throw await n.json();return n.json()}async function a(t,e){let n=await fetch("".concat(o,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})});if(!n.ok)throw await n.json();return n.json()}async function c(){let t=await fetch("".concat(o,"/auth/me"),{headers:{...i()}});if(!t.ok)throw await t.json();return t.json()}async function u(){let t=await fetch("".concat(o,"/sessions"),{headers:{...i()}});if(!t.ok)throw await t.json();return t.json()}async function l(t){let e=await fetch("".concat(o,"/sessions"),{method:"POST",headers:{"Content-Type":"application/json",...i()},body:JSON.stringify({name:t})});if(!e.ok)throw await e.json();return e.json()}async function f(t){let e=await fetch("".concat(o,"/sessions/").concat(t),{headers:{...i()}});if(!e.ok)throw await e.json();return e.json()}async function d(t,e){let n=await fetch("".concat(o,"/sessions/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",...i()},body:JSON.stringify(e)});if(!n.ok)throw await n.json();return n.json()}},6003:function(t){!function(){var e={229:function(t){var e,n,r,o=t.exports={};function i(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var c=[],u=!1,l=-1;function f(){u&&r&&(u=!1,r.length?c=r.concat(c):l=-1,c.length&&d())}function d(){if(!u){var t=a(f);u=!0;for(var e=c.length;e;){for(r=c,c=[];++l<e;)r&&r[l].run();l=-1,e=c.length}r=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function p(){}o.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||u||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}},s=!0;try{e[t](i,i.exports,r),s=!1}finally{s&&delete n[t]}return i.exports}r.ab="//";var o=r(229);t.exports=o}()},3009:function(t,e,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2310),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var r,i={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(l=e.ref),e)s.call(e,r)&&!c.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:o,type:t,key:u,ref:l,props:i,_owner:a.current}}e.Fragment=i,e.jsx=u,e.jsxs=u},3955:function(t,e,n){"use strict";t.exports=n(3009)},6008:function(t,e,n){t.exports=n(4e3)}},function(t){t.O(0,[704,125,744],function(){return t(t.s=8363)}),_N_E=t.O()}]);